<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Linuxä¹‹syslogæ—¥å¿—æœåŠ¡è¯¦è§£ | Zhangxiaoyi&#39;s Blog</title>
  <meta name="keywords" content=" syslogæ—¥å¿—æœåŠ¡ ">
  <meta name="description" content="Linuxä¹‹syslogæ—¥å¿—æœåŠ¡è¯¦è§£ | Zhangxiaoyi&#39;s Blog">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="æ¬¢è¿å’Œæˆ‘æ¢è®¨æœ‰è¶£çš„äº‹æƒ…WX: 13572252156QQ: 1251108673">
<meta property="og:type" content="website">
<meta property="og:title" content="about">
<meta property="og:url" content="http://example.com/about/index.html">
<meta property="og:site_name" content="Zhangxiaoyi&#39;s Blog">
<meta property="og:description" content="æ¬¢è¿å’Œæˆ‘æ¢è®¨æœ‰è¶£çš„äº‹æƒ…WX: 13572252156QQ: 1251108673">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-10-06T05:28:23.000Z">
<meta property="article:modified_time" content="2020-10-06T07:52:54.234Z">
<meta property="article:author" content="Zhangxiaoyi">
<meta name="twitter:card" content="summary">


<link rel="icon" href="/img/avatar2.jpg">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/atom-light.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js" ></script>

<script src="/js/iconfont.js?v=1.1.0" ></script>

<meta name="generator" content="Hexo 5.2.0"></head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="true" />
  <input id="theme_highlight_on" value="true" />
  <input id="theme_code_copy" value="true" />
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/" class="avatar_target">
    <img class="avatar" src="/img/avatar2.jpg" />
</a>
<div class="author">
    <span>Zhangxiaoyi</span>
</div>

<div class="icon">
    
        
    
        
        <a title="github" href="https://github.com/noahyzhang" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-github"></use>
                </svg>
            
        </a>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
        <a title="csdn" href="https://blog.csdn.net/qq_40421919" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-csdn"></use>
                </svg>
            
        </a>
        
    
        
    
        
    
        
        <a title="email" href="mailto:1251108673@qq.com" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-email"></use>
                </svg>
            
        </a>
        
    
        
        <a title="qq" href="http://wpa.qq.com/msgrd?v=3&uin=1251108673&site=qq&menu=yes" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-qq"></use>
                </svg>
            
        </a>
        
    
        
    
        
    
</div>




<ul>
    <li><div class="all active" data-rel="All">All<small>(32)</small></div></li>
    
        
            
            <li><div data-rel="è¯»ä¹¦">è¯»ä¹¦<small>(1)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="ç”Ÿæ´»">ç”Ÿæ´»<small>(3)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="linux">linux<small>(14)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="ç¼–ç¨‹è¯­è¨€">ç¼–ç¨‹è¯­è¨€<small>(1)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="æ•°æ®åº“">æ•°æ®åº“<small>(4)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="ç»„ä»¶å­¦ä¹ ">ç»„ä»¶å­¦ä¹ <small>(6)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="å…¶ä»–">å…¶ä»–<small>(3)</small></div>
                
            </li>
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
    
    
    
    
    </div>
    <div><a class="about  site_url"  href="/about">About</a></div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="32">
<input type="hidden" id="yelog_site_word_count" value="58.6k">
<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        Links
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="http://www.zhangxiaoyiya.cn/">å¶è½é˜</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="æœç´¢ å¿«æ·é”® i"></i>
            <div class="right-title">All</div>
            <i class="iconfont icon-file-tree" data-title="åˆ‡æ¢åˆ°å¤§çº²è§†å›¾ å¿«æ·é”® w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="è¿”å›"></i>
            <input id="local-search-input" />
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="å¤§å°å†™æ•æ„Ÿ"></i>
            <i class="iconfont icon-tag" data-title="æ ‡ç­¾"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">å¤§çº²</div>
            <i class="iconfont icon-list" data-title="åˆ‡æ¢åˆ°æ–‡ç« åˆ—è¡¨"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>c++</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>c++é“¾æ¥</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>curl</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>gcc</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>gdb linux</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>git</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>json protobuf</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>linux</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>linux æ—¥å¿—</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>makefile</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>mysql</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>mysqldump</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>syslogæ—¥å¿—æœåŠ¡</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>tcpdump</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>tempfs /dev/shm</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ä¸ªäººæˆé•¿</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ä»£ç†</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>å…±äº«å†…å­˜</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>å†…å­˜ç®¡ç†</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>å®ˆæŠ¤è¿›ç¨‹</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>æ®µé”™è¯¯ core</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>è¿›ç¨‹ä¸¢å¤±</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>è¿›ç¨‹çŠ¶æ€</a>
            </li>
        
    </div>

</div>

    
    <nav id="title-list-nav">
        
        <a  class="All æ•°æ®åº“ "
           href="/2020/12/27/%E6%95%B0%E6%8D%AE%E5%BA%93/Mysql%E8%A1%A8%E7%A9%BA%E9%97%B4%E4%BB%A5%E5%8F%8Aibdata1%E6%96%87%E4%BB%B6%E8%A7%A3%E9%87%8A/"
           data-tag="mysql"
           data-author="" >
            <span class="post-title" title="Mysqlè¡¨ç©ºé—´ä»¥åŠibdata1æ–‡ä»¶è§£é‡Š">Mysqlè¡¨ç©ºé—´ä»¥åŠibdata1æ–‡ä»¶è§£é‡Š</span>
            <span class="post-date" title="2020-12-27 19:14:06">2020/12/27</span>
        </a>
        
        <a  class="All æ•°æ®åº“ "
           href="/2020/12/27/%E6%95%B0%E6%8D%AE%E5%BA%93/mysql%E5%AD%97%E7%AC%A6%E9%9B%86%E8%BD%AC%E6%8D%A2%E5%8E%9F%E7%90%86%E5%89%96%E6%9E%90%E5%8F%8A%E4%B9%B1%E7%A0%81%E5%8E%9F%E5%9B%A0/"
           data-tag="mysql"
           data-author="" >
            <span class="post-title" title="mysqlå­—ç¬¦é›†è½¬æ¢åŸç†å‰–æåŠä¹±ç åŸå› ">mysqlå­—ç¬¦é›†è½¬æ¢åŸç†å‰–æåŠä¹±ç åŸå› </span>
            <span class="post-date" title="2020-12-27 14:14:06">2020/12/27</span>
        </a>
        
        <a  class="All linux "
           href="/2020/12/20/linux/Linux%E7%B3%BB%E7%BB%9F%E8%BF%9B%E7%A8%8B%E7%8A%B6%E6%80%81%E8%A7%A3%E6%9E%90/"
           data-tag="è¿›ç¨‹çŠ¶æ€"
           data-author="" >
            <span class="post-title" title="Linuxç³»ç»Ÿè¿›ç¨‹çŠ¶æ€è§£æ">Linuxç³»ç»Ÿè¿›ç¨‹çŠ¶æ€è§£æ</span>
            <span class="post-date" title="2020-12-20 14:19:17">2020/12/20</span>
        </a>
        
        <a  class="All linux "
           href="/2020/12/20/linux/Linux%E7%B3%BB%E7%BB%9Ftempfs%E5%92%8C:dev:shm%E8%A7%A3%E6%9E%90/"
           data-tag="tempfs /dev/shm"
           data-author="" >
            <span class="post-title" title="Linuxç³»ç»Ÿtempfså’Œ/dev/shmè§£æ">Linuxç³»ç»Ÿtempfså’Œ/dev/shmè§£æ</span>
            <span class="post-date" title="2020-12-20 13:19:17">2020/12/20</span>
        </a>
        
        <a  class="All linux "
           href="/2020/12/03/linux/Linux%E4%B9%8Bsyslog%E6%97%A5%E5%BF%97%E6%9C%8D%E5%8A%A1%E8%AF%A6%E8%A7%A3/"
           data-tag="syslogæ—¥å¿—æœåŠ¡"
           data-author="" >
            <span class="post-title" title="Linuxä¹‹syslogæ—¥å¿—æœåŠ¡è¯¦è§£">Linuxä¹‹syslogæ—¥å¿—æœåŠ¡è¯¦è§£</span>
            <span class="post-date" title="2020-12-03 19:11:41">2020/12/03</span>
        </a>
        
        <a  class="All linux "
           href="/2020/12/02/linux/Linux%E4%B8%8B%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%90%AF%E5%8A%A8%E6%96%B9%E6%B3%95/"
           data-tag="å®ˆæŠ¤è¿›ç¨‹"
           data-author="" >
            <span class="post-title" title="Linuxä¸‹å®ˆæŠ¤è¿›ç¨‹çš„å¯åŠ¨æ–¹æ³•">Linuxä¸‹å®ˆæŠ¤è¿›ç¨‹çš„å¯åŠ¨æ–¹æ³•</span>
            <span class="post-date" title="2020-12-02 16:19:17">2020/12/02</span>
        </a>
        
        <a  class="All linux "
           href="/2020/11/07/linux/tcpdump%E7%9A%84%E4%BD%BF%E7%94%A8/"
           data-tag="tcpdump"
           data-author="" >
            <span class="post-title" title="tcpdumpçš„ä½¿ç”¨">tcpdumpçš„ä½¿ç”¨</span>
            <span class="post-date" title="2020-11-07 14:11:41">2020/11/07</span>
        </a>
        
        <a  class="All æ•°æ®åº“ "
           href="/2020/11/01/%E6%95%B0%E6%8D%AE%E5%BA%93/mysqldump%E7%9A%84%E4%BD%BF%E7%94%A8/"
           data-tag="mysqldump"
           data-author="" >
            <span class="post-title" title="mysqldumpçš„ä½¿ç”¨">mysqldumpçš„ä½¿ç”¨</span>
            <span class="post-date" title="2020-11-01 19:19:17">2020/11/01</span>
        </a>
        
        <a  class="All ç»„ä»¶å­¦ä¹  "
           href="/2020/11/01/%E7%BB%84%E4%BB%B6%E5%AD%A6%E4%B9%A0/curl%E5%91%BD%E4%BB%A4%E4%B8%8E%E5%85%B6API%E7%9A%84%E4%BD%BF%E7%94%A8/"
           data-tag="curl"
           data-author="" >
            <span class="post-title" title="curlå‘½ä»¤ä¸å…¶APIçš„ä½¿ç”¨">curlå‘½ä»¤ä¸å…¶APIçš„ä½¿ç”¨</span>
            <span class="post-date" title="2020-11-01 18:19:17">2020/11/01</span>
        </a>
        
        <a  class="All linux "
           href="/2020/10/25/linux/%E6%8E%92%E6%9F%A5%E8%BF%9B%E7%A8%8B%E7%BB%88%E6%AD%A2%E7%9A%84%E5%8E%9F%E5%9B%A0/"
           data-tag="è¿›ç¨‹ä¸¢å¤±"
           data-author="" >
            <span class="post-title" title="æ’æŸ¥è¿›ç¨‹ç»ˆæ­¢çš„åŸå› ">æ’æŸ¥è¿›ç¨‹ç»ˆæ­¢çš„åŸå› </span>
            <span class="post-date" title="2020-10-25 19:11:41">2020/10/25</span>
        </a>
        
        <a  class="All linux "
           href="/2020/10/25/linux/%E6%9F%A5%E7%9C%8B%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98%E8%A2%AB%E5%93%AA%E4%BA%9B%E8%BF%9B%E7%A8%8Bnattch/"
           data-tag="å…±äº«å†…å­˜"
           data-author="" >
            <span class="post-title" title="æŸ¥çœ‹å…±äº«å†…å­˜è¢«å“ªäº›è¿›ç¨‹nattch">æŸ¥çœ‹å…±äº«å†…å­˜è¢«å“ªäº›è¿›ç¨‹nattch</span>
            <span class="post-date" title="2020-10-25 19:11:41">2020/10/25</span>
        </a>
        
        <a  class="All linux "
           href="/2020/10/25/linux/linux%E4%B8%8B%E6%AE%B5%E9%94%99%E8%AF%AF%E7%9A%84%E4%BA%A7%E7%94%9F%E5%8E%9F%E5%9B%A0%E5%8F%8A%E8%B0%83%E8%AF%95%E6%96%B9%E6%B3%95/"
           data-tag="æ®µé”™è¯¯ core"
           data-author="" >
            <span class="post-title" title="linuxä¸‹æ®µé”™è¯¯çš„äº§ç”ŸåŸå› åŠè°ƒè¯•æ–¹æ³•">linuxä¸‹æ®µé”™è¯¯çš„äº§ç”ŸåŸå› åŠè°ƒè¯•æ–¹æ³•</span>
            <span class="post-date" title="2020-10-25 17:11:41">2020/10/25</span>
        </a>
        
        <a  class="All linux "
           href="/2020/10/25/linux/%E6%9F%A5%E7%9C%8B%E6%89%A7%E8%A1%8C%E6%9F%90%E4%B8%AA%E8%BF%9B%E7%A8%8B%E4%B8%AD%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8--strace%E5%91%BD%E4%BB%A4/"
           data-tag="linux"
           data-author="" >
            <span class="post-title" title="æŸ¥çœ‹æ‰§è¡ŒæŸä¸ªè¿›ç¨‹ä¸­ç³»ç»Ÿè°ƒç”¨--straceå‘½ä»¤">æŸ¥çœ‹æ‰§è¡ŒæŸä¸ªè¿›ç¨‹ä¸­ç³»ç»Ÿè°ƒç”¨--straceå‘½ä»¤</span>
            <span class="post-date" title="2020-10-25 15:31:24">2020/10/25</span>
        </a>
        
        <a  class="All linux "
           href="/2020/10/25/linux/Linux%E4%B9%8Bproc%E4%B8%8Bkcore%E6%96%87%E4%BB%B6%E8%A7%A3%E9%87%8A/"
           data-tag="linux"
           data-author="" >
            <span class="post-title" title="/proc/kcoreæ–‡ä»¶è§£é‡Š">/proc/kcoreæ–‡ä»¶è§£é‡Š</span>
            <span class="post-date" title="2020-10-25 15:11:24">2020/10/25</span>
        </a>
        
        <a  class="All linux "
           href="/2020/10/25/linux/linux%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%BF%97%E5%88%86%E6%9E%90/"
           data-tag="linux æ—¥å¿—"
           data-author="" >
            <span class="post-title" title="linux ç³»ç»Ÿæ—¥å¿—åˆ†æ">linux ç³»ç»Ÿæ—¥å¿—åˆ†æ</span>
            <span class="post-date" title="2020-10-25 14:11:24">2020/10/25</span>
        </a>
        
        <a  class="All ç»„ä»¶å­¦ä¹  "
           href="/2020/10/22/%E7%BB%84%E4%BB%B6%E5%AD%A6%E4%B9%A0/%E5%BA%8F%E5%88%97%E5%8C%96%E5%92%8C%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96(json%E5%92%8Cprotobuf)/"
           data-tag="json protobuf"
           data-author="" >
            <span class="post-title" title="åºåˆ—åŒ–å’Œååºåˆ—åŒ–(json/protobuf)">åºåˆ—åŒ–å’Œååºåˆ—åŒ–(json/protobuf)</span>
            <span class="post-date" title="2020-10-22 20:19:17">2020/10/22</span>
        </a>
        
        <a  class="All ç»„ä»¶å­¦ä¹  "
           href="/2020/10/18/%E7%BB%84%E4%BB%B6%E5%AD%A6%E4%B9%A0/gcc%E7%9A%84%E4%BD%BF%E7%94%A8/"
           data-tag="gcc"
           data-author="" >
            <span class="post-title" title="gccçš„ä½¿ç”¨">gccçš„ä½¿ç”¨</span>
            <span class="post-date" title="2020-10-18 19:54:54">2020/10/18</span>
        </a>
        
        <a  class="All ç»„ä»¶å­¦ä¹  "
           href="/2020/10/18/%E7%BB%84%E4%BB%B6%E5%AD%A6%E4%B9%A0/gdb%20%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7/"
           data-tag="gdb linux"
           data-author="" >
            <span class="post-title" title="gdbè°ƒè¯•å·¥å…·">gdbè°ƒè¯•å·¥å…·</span>
            <span class="post-date" title="2020-10-18 15:45:45">2020/10/18</span>
        </a>
        
        <a  class="All å…¶ä»– "
           href="/2020/10/18/%E5%85%B6%E4%BB%96/std--bad_alloc%E7%9A%84%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/"
           data-tag="linux"
           data-author="" >
            <span class="post-title" title="åŒæ—¶å¯åŠ¨å¤šä¸ªç¨‹åºï¼Œå‡ºç°â€œstd::bad_allocâ€çš„é—®é¢˜">åŒæ—¶å¯åŠ¨å¤šä¸ªç¨‹åºï¼Œå‡ºç°â€œstd::bad_allocâ€çš„é—®é¢˜</span>
            <span class="post-date" title="2020-10-18 11:11:11">2020/10/18</span>
        </a>
        
        <a  class="All å…¶ä»– "
           href="/2020/10/16/%E5%85%B6%E4%BB%96/%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6%E6%89%A7%E8%A1%8Cload%E4%B8%8D%E5%88%B0%E5%85%B1%E4%BA%AB%E5%BA%93%E9%97%AE%E9%A2%98/"
           data-tag="linux"
           data-author="" >
            <span class="post-title" title="äºŒè¿›åˆ¶æ–‡ä»¶æ‰§è¡ŒåŠ è½½ä¸åˆ°å…±äº«åº“é—®é¢˜">äºŒè¿›åˆ¶æ–‡ä»¶æ‰§è¡ŒåŠ è½½ä¸åˆ°å…±äº«åº“é—®é¢˜</span>
            <span class="post-date" title="2020-10-16 11:41:41">2020/10/16</span>
        </a>
        
        <a  class="All linux "
           href="/2020/10/09/linux/%E6%9F%A5%E7%9C%8Blinux%20%E7%A1%AC%E4%BB%B6%E8%B5%84%E6%BA%90%E6%96%B9%E6%B3%95/"
           data-tag="linux"
           data-author="" >
            <span class="post-title" title="æŸ¥çœ‹linuxç¡¬ä»¶èµ„æºæ–¹æ³•">æŸ¥çœ‹linuxç¡¬ä»¶èµ„æºæ–¹æ³•</span>
            <span class="post-date" title="2020-10-09 13:11:24">2020/10/09</span>
        </a>
        
        <a  class="All ç»„ä»¶å­¦ä¹  "
           href="/2020/10/06/%E7%BB%84%E4%BB%B6%E5%AD%A6%E4%B9%A0/git%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"
           data-tag="git"
           data-author="" >
            <span class="post-title" title="gitå­¦ä¹ è®°å½•">gitå­¦ä¹ è®°å½•</span>
            <span class="post-date" title="2020-10-06 16:22:14">2020/10/06</span>
        </a>
        
        <a  class="All ç»„ä»¶å­¦ä¹  "
           href="/2020/10/06/%E7%BB%84%E4%BB%B6%E5%AD%A6%E4%B9%A0/makefile%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"
           data-tag="makefile"
           data-author="" >
            <span class="post-title" title="makefileå­¦ä¹ è®°å½•">makefileå­¦ä¹ è®°å½•</span>
            <span class="post-date" title="2020-10-06 16:22:14">2020/10/06</span>
        </a>
        
        <a  class="All linux "
           href="/2020/10/06/linux/cc++%E9%94%99%E8%AF%AF%E4%B9%8B%20Undefined%20reference%20%E6%9C%AA%E5%AE%9A%E4%B9%89%E7%9A%84%E9%97%AE%E9%A2%98/"
           data-tag="c++é“¾æ¥"
           data-author="" >
            <span class="post-title" title="cå’Œc++é“¾æ¥æœªå®šä¹‰çš„é—®é¢˜">cå’Œc++é“¾æ¥æœªå®šä¹‰çš„é—®é¢˜</span>
            <span class="post-date" title="2020-10-06 16:19:17">2020/10/06</span>
        </a>
        
        <a  class="All ç¼–ç¨‹è¯­è¨€ "
           href="/2020/10/06/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/c++%E5%88%9D%E5%A7%8B%E5%8C%96%E7%9A%84%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/"
           data-tag="c++"
           data-author="" >
            <span class="post-title" title="c++åˆå§‹åŒ–çš„é—®é¢˜è®°å½•">c++åˆå§‹åŒ–çš„é—®é¢˜è®°å½•</span>
            <span class="post-date" title="2020-10-06 16:19:17">2020/10/06</span>
        </a>
        
        <a  class="All æ•°æ®åº“ "
           href="/2020/10/06/%E6%95%B0%E6%8D%AE%E5%BA%93/show-slave-status-G%E5%8F%82%E6%95%B0%E4%BB%8B%E7%BB%8D/"
           data-tag="mysql"
           data-author="" >
            <span class="post-title" title="show slave status\Gå‚æ•°ä»‹ç»">show slave status\Gå‚æ•°ä»‹ç»</span>
            <span class="post-date" title="2020-10-06 16:14:06">2020/10/06</span>
        </a>
        
        <a  class="All ç”Ÿæ´» "
           href="/2020/10/06/%E7%94%9F%E6%B4%BB/2020-10-06-%E3%80%8A%E4%BA%BA%E7%94%9F%E3%80%8B%E8%AE%B0%E5%BD%95/"
           data-tag="ä¸ªäººæˆé•¿"
           data-author="" >
            <span class="post-title" title="ã€Šäººç”Ÿã€‹è®°å½•">ã€Šäººç”Ÿã€‹è®°å½•</span>
            <span class="post-date" title="2020-10-06 16:12:42">2020/10/06</span>
        </a>
        
        <a  class="All ç”Ÿæ´» "
           href="/2020/10/06/%E7%94%9F%E6%B4%BB/2020-10-08%E6%97%A5%E8%AE%B0/"
           data-tag="ä¸ªäººæˆé•¿"
           data-author="" >
            <span class="post-title" title="2020.10.8æ—¥å¿—">2020.10.8æ—¥å¿—</span>
            <span class="post-date" title="2020-10-06 16:12:42">2020/10/06</span>
        </a>
        
        <a  class="All ç”Ÿæ´» "
           href="/2020/10/06/%E7%94%9F%E6%B4%BB/%E5%85%B3%E4%BA%8E%E6%88%90%E7%86%9F/"
           data-tag="ä¸ªäººæˆé•¿"
           data-author="" >
            <span class="post-title" title="å…³äºæˆç†Ÿ">å…³äºæˆç†Ÿ</span>
            <span class="post-date" title="2020-10-06 16:12:42">2020/10/06</span>
        </a>
        
        <a  class="All è¯»ä¹¦ "
           href="/2020/10/06/%E8%AF%BB%E4%B9%A6/2020-10-06-%E6%98%8E%E6%9C%9D%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%84%BF%E6%84%9F%E6%83%B3/"
           data-tag="ä¸ªäººæˆé•¿"
           data-author="" >
            <span class="post-title" title="æ˜æœé‚£äº›äº‹å„¿æ„Ÿæƒ³">æ˜æœé‚£äº›äº‹å„¿æ„Ÿæƒ³</span>
            <span class="post-date" title="2020-10-06 16:12:42">2020/10/06</span>
        </a>
        
        <a  class="All å…¶ä»– "
           href="/2020/10/06/%E5%85%B6%E4%BB%96/%E6%AD%A3%E5%90%91%E4%BB%A3%E7%90%86%E4%B8%8E%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/"
           data-tag="ä»£ç†"
           data-author="" >
            <span class="post-title" title="æ­£å‘ä»£ç†ä¸åå‘ä»£ç†">æ­£å‘ä»£ç†ä¸åå‘ä»£ç†</span>
            <span class="post-date" title="2020-10-06 16:11:29">2020/10/06</span>
        </a>
        
        <a  class="All linux "
           href="/2020/10/06/linux/%E9%80%9A%E8%BF%87free%E5%91%BD%E4%BB%A4%E7%90%86%E8%A7%A3linux%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/"
           data-tag="å†…å­˜ç®¡ç†"
           data-author="" >
            <span class="post-title" title="é€šè¿‡freeå‘½ä»¤ç†è§£linuxå†…å­˜ç®¡ç†">é€šè¿‡freeå‘½ä»¤ç†è§£linuxå†…å­˜ç®¡ç†</span>
            <span class="post-date" title="2020-10-06 16:09:52">2020/10/06</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>
    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="åˆ‡æ¢å…¨å± å¿«æ·é”® s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-linux/Linuxä¹‹syslogæ—¥å¿—æœåŠ¡è¯¦è§£" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">Linuxä¹‹syslogæ—¥å¿—æœåŠ¡è¯¦è§£</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="linux">linux</a>
            
        </span>
        
        
        <span class="tag">
            <i class="iconfont icon-tag"></i>
            
            <a class="color1">syslogæ—¥å¿—æœåŠ¡</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
            Created At : <time class="date" title='Updated At: 2020-12-08 21:50:26'>2020-12-03 19:11</time>
        
    </div>
    <div class="article-meta">
        
        <span>Count:2.8k</span>
        
        
        <span id="busuanzi_container_page_pv">
            Views ğŸ‘€ :<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
        <span class="top-comment" title="è·³è½¬è‡³è¯„è®ºåŒº">
            <a href="#comments">
                Comment:<span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </a>
        </span>
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Linux-%E4%B9%8B-syslog-%E6%97%A5%E5%BF%97%E6%9C%8D%E5%8A%A1%E8%AF%A6%E8%A7%A3"><span class="toc-text">Linux ä¹‹ syslog æ—¥å¿—æœåŠ¡è¯¦è§£</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81syslog%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text">ä¸€ã€syslogçš„é…ç½®æ–‡ä»¶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81syslog-%E5%8D%8F%E8%AE%AE"><span class="toc-text">äºŒã€syslog åè®®</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-Priority"><span class="toc-text">1. Priority</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%B6%E4%B8%ADPriority%E6%98%AF%E7%94%B1%E4%B8%A4%E4%B8%AA%E9%83%A8%E5%88%86%E7%BB%84%E6%88%90%E2%80%94Facility%E3%80%81Level"><span class="toc-text">å…¶ä¸­Priorityæ˜¯ç”±ä¸¤ä¸ªéƒ¨åˆ†ç»„æˆâ€”Facilityã€Level</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81Head"><span class="toc-text">2ã€Head</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81Message"><span class="toc-text">3ã€Message</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E4%BD%BF%E7%94%A8syslog%E6%8E%A5%E5%8F%A3%E8%B0%83%E7%94%A8syslog%E6%9C%8D%E5%8A%A1"><span class="toc-text">ä¸‰ã€ä½¿ç”¨syslogæ¥å£è°ƒç”¨syslogæœåŠ¡</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81syslog-API"><span class="toc-text">1ã€syslog API</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84syslog%E4%BE%8B%E5%AD%90"><span class="toc-text">2ã€ä¸€ä¸ªç®€å•çš„syslogä¾‹å­</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96"><span class="toc-text">å…¶ä»–</span></a></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Linux-ä¹‹-syslog-æ—¥å¿—æœåŠ¡è¯¦è§£"><a href="#Linux-ä¹‹-syslog-æ—¥å¿—æœåŠ¡è¯¦è§£" class="headerlink" title="Linux ä¹‹ syslog æ—¥å¿—æœåŠ¡è¯¦è§£"></a>Linux ä¹‹ syslog æ—¥å¿—æœåŠ¡è¯¦è§£</h1><p>syslog å’Œ rsyslog æ˜¯ Linux ä¸‹é»˜è®¤çš„æ—¥å¿—å®ˆæŠ¤è¿›ç¨‹ã€‚rsyslog æ˜¯ syslog çš„å‡çº§ç‰ˆã€‚åŒæ—¶ syslog æ˜¯æ ‡å‡†åè®®ï¼Œå¯ä»¥ç”¨æ¥è®°å½•è®¾å¤‡çš„æ—¥å¿—ã€‚åœ¨UNIXç³»ç»Ÿï¼Œè·¯ç”±å™¨ã€äº¤æ¢æœºç­‰ç½‘ç»œè®¾å¤‡ä¸­ï¼Œç³»ç»Ÿæ—¥å¿—(System Log)è®°å½•ç³»ç»Ÿä¸­ä»»ä½•æ—¶é—´å‘ç”Ÿçš„å¤§å°äº‹ä»¶ã€‚ç®¡ç†è€…å¯ä»¥é€šè¿‡æŸ¥çœ‹ç³»ç»Ÿè®°å½•ï¼Œéšæ—¶æŒæ¡ç³»ç»ŸçŠ¶å†µã€‚UNIXçš„ç³»ç»Ÿæ—¥å¿—æ˜¯é€šè¿‡syslogdè¿™ä¸ªè¿›ç¨‹è®°å½•ç³»ç»Ÿæœ‰å…³äº‹ä»¶è®°å½•ï¼Œä¹Ÿå¯ä»¥è®°å½•åº”ç”¨ç¨‹åºè¿ä½œäº‹ä»¶ã€‚é€šè¿‡é€‚å½“çš„é…ç½®ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å®ç°è¿è¡Œsyslogåè®®çš„æœºå™¨é—´é€šä¿¡ï¼Œé€šè¿‡åˆ†æè¿™äº›ç½‘ç»œè¡Œä¸ºæ—¥å¿—ï¼Œè—‰ä»¥è¿½è¸ªæŒæ¡ä¸è®¾å¤‡å’Œç½‘ç»œæœ‰å…³çš„çŠ¶å†µã€‚</p>
<h2 id="ä¸€ã€syslogçš„é…ç½®æ–‡ä»¶"><a href="#ä¸€ã€syslogçš„é…ç½®æ–‡ä»¶" class="headerlink" title="ä¸€ã€syslogçš„é…ç½®æ–‡ä»¶"></a>ä¸€ã€syslogçš„é…ç½®æ–‡ä»¶</h2><p>æƒ³è¦æ•´ä½“äº†è§£syslogï¼Œå…ˆä»syslogçš„é…ç½®æ–‡ä»¶å¼€å§‹çœ‹èµ·ã€‚ /etc/rsyslog.conf æ˜¯ rsyslog å®ˆæŠ¤è¿›ç¨‹å¯åŠ¨æ—¶éœ€è¦çš„é…ç½®æ–‡ä»¶ã€‚å„ç‰ˆæœ¬å†…å®¹æœ‰ç•¥å¾®ä¸åŒï¼Œä½†æ˜¯æ•´ä½“å¤§è‡´éƒ½ç›¸åŒã€‚</p>
<pre><code class="shell"># rsyslog configuration file

# For more information see /usr/share/doc/rsyslog-*/rsyslog_conf.html
# If you experience problems, see http://www.rsyslog.com/doc/troubleshoot.html

#### MODULES ####
# åŠ è½½æ¨¡å—
# The imjournal module bellow is now used as a message source instead of imuxsock.
# åŠ è½½ imuxsock æ¨¡å—ï¼Œä¸ºæœ¬åœ°ç³»ç»Ÿç™»é™†æä¾›æ”¯æŒ(ä¾‹å¦‚é€šè¿‡loggerå‘½ä»¤)
$ModLoad imuxsock # provides support for local system logging (e.g. via logger command)
# æä¾›å¯¹systemdæ—¥å¿—çš„è®¿é—®
$ModLoad imjournal # provides access to the systemd journal
# åŠ è½½ imklogï¼Œä¸ºå†…æ ¸ç™»é™†æä¾›æ”¯æŒ
#$ModLoad imklog # reads kernel messages (the same are read from journald)
# æä¾›æ ‡è®°ä¿¡æ¯åŠŸèƒ½
#$ModLoad immark  # provides --MARK-- message capability

# åŠ è½½ UDP æ¨¡å—ï¼Œå…è®¸ä½¿ç”¨UDPçš„514ç«¯å£æ¥æ”¶é‡‡ç”¨UDPåè®®è½¬å‘çš„æ—¥å¿—
# Provides UDP syslog reception
#$ModLoad imudp
#$UDPServerRun 514

# åŠ è½½ TCP æ¨¡å—ï¼Œå…è®¸ä½¿ç”¨TCPçš„514ç«¯å£æ¥æ”¶é‡‡ç”¨TCPåè®®è½¬å‘çš„æ—¥å¿—
# Provides TCP syslog reception
#$ModLoad imtcp
#$InputTCPServerRun 514


#### GLOBAL DIRECTIVES ####
# å…¨å±€æŒ‡ä»¤çš„é…ç½®
# Where to place auxiliary files
# è¾…åŠ©æ–‡ä»¶ç›®å½•
$WorkDirectory /var/lib/rsyslog

# Use default timestamp format
# ä½¿ç”¨é»˜è®¤çš„æ—¶é—´æˆ³æ ¼å¼
$ActionFileDefaultTemplate RSYSLOG_TraditionalFileFormat

# File syncing capability is disabled by default. This feature is usually not required,
# not useful and an extreme performance hit
# æ–‡ä»¶åŒæ­¥åŠŸèƒ½ï¼Œé€šå¸¸æ˜¯è¢«ç¦ç”¨çš„ï¼Œè¿™ä¸ªåŠŸèƒ½é€šå¸¸ä¸æ˜¯å¿…è¦çš„ï¼Œä¼šå¤§å¹…å½±å“æ€§èƒ½
#$ActionFileEnableSync on

# Include all config files in /etc/rsyslog.d/
# åŒ…å«é…ç½®æ–‡ä»¶çš„ç›®å½•ï¼Œè¿™ä¸ªç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶ä¹Ÿæ˜¯ç”Ÿæ•ˆçš„
$IncludeConfig /etc/rsyslog.d/*.conf

# Turn off message reception via local log socket;
# local messages are retrieved through imjournal now.
# é€šè¿‡æœ¬åœ°æ¶ˆæ¯æ—¥å¿—å¥—æ¥å­—å…³é—­æ¶ˆæ¯æ¥æ”¶ï¼Œæœ¬åœ°æ¶ˆæ¯å¯ä»¥ç”¨imjournalæ£€ç´¢
$OmitLocalLogging on

# File to store the position in the journal
# åœ¨æ—¥å¿—ä¸­æ–‡ä»¶ç”¨äºå­˜å‚¨çš„ä½ç½®
$IMJournalStateFile imjournal.state


#### RULES ####
#RULESéƒ¨åˆ†ä¸»è¦æ˜¯å¯¹å„ç§facilityå’Œlevelè¿›è¡Œè®¾ç½®
#è®¾ç½®ä½ æƒ³è¦æ¥æ”¶çš„facilityçš„ä½•ç§levelçš„æ—¥å¿—æ¶ˆæ¯

# Log all kernel messages to the console.
# Logging much else clutters up the screen.
# å°†å°†æ‰€æœ‰çš„å†…æ ¸æ—¥å¿—è®°å½•åœ¨ç•Œé¢ï¼Œä¼šé€ æˆå±å¹•æ··ä¹±
#kern.*                                                 /dev/console

# Log anything (except mail) of level info or higher.
# Don&#39;t log private authentication messages!
# å°† infoæˆ–è€…æ›´é«˜çº§åˆ«çš„æ¶ˆæ¯é€åˆ°è¿™ä¸ªæ–‡ä»¶ï¼Œé™¤äº†mailä»¥å¤–
# å…¶ä¸­ * æ˜¯é€šé…ç¬¦ï¼Œä»£è¡¨ä»»ä½•è®¾å¤‡ï¼Œnoneè¡¨ç¤ºä¸å¯¹ä»»ä½•çº§åˆ«çš„ä¿¡æ¯è¿›è¡Œè®°å½•
# åŒä¸€è¡Œé…ç½®ä¸­ï¼Œå…è®¸å‡ºç°å¤šä¸ªé€‰æ‹©æ¡ä»¶ï¼Œå¤šä¸ªé€‰æ‹©æ¡ä»¶ä½¿ç”¨ ; éš”å¼€
*.info;mail.none;authpriv.none;cron.none                /var/log/messages

# The authpriv file has restricted access.
# å°† authpriv è®¾å¤‡çš„ä»»ä½•çº§åˆ«ä¿¡æ¯è®°å½•åˆ°è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œè¿™ä¸»è¦æ˜¯ä¸€äº›æƒé™ç›¸å…³çš„ä¿¡æ¯
authpriv.*                                              /var/log/secure

# Log all the mail messages in one place.
# å°† mail è®¾å¤‡ä¸­çš„ä»»ä½•çº§åˆ«çš„ä¿¡æ¯è®°å½•åˆ°è¿™ä¸ªæ–‡ä»¶ï¼Œè¿™ä¸»è¦æ˜¯å’Œç”µå­é‚®ä»¶ç›¸å…³çš„ä¿¡æ¯
# æ–‡ä»¶å‰çš„å‰ç¼€è¡¨ç¤ºå¯ä»¥é¿å…æ—¥å¿—çš„åŒæ­¥å†™å…¥ï¼ŒæŸäº›æ—¶å€™å¯¹æå‡ç³»ç»Ÿçš„æ€§èƒ½æœ‰å¾ˆå¤§çš„å¸®åŠ©
mail.*                                                  -/var/log/maillog


# Log cron stuff
# å°† cron è®¾å¤‡ä¸­çš„ä»»ä½•çº§åˆ«çš„ä¿¡æ¯è®°å½•åˆ°è¿™ä¸ªæ–‡ä»¶ï¼Œè¿™ä¸»è¦æ˜¯ç³»ç»Ÿä¸­å®šæœŸæ‰§è¡Œçš„ä»»åŠ¡ç›¸å…³ä¿¡æ¯
cron.*                                                  /var/log/cron

# Everybody gets emergency messages
# å°†ä»»ä½•çº§åˆ«çš„ emerg çº§åˆ«çš„ä¿¡æ¯å‘é€ç»™æ‰€æœ‰æ­£åœ¨ç³»ç»Ÿä¸Šçš„ç”¨æˆ·
*.emerg                                                 :omusrmsg:*

# Save news errors of level crit and higher in a special file.
# uucp å’Œ news è®¾å¤‡çš„ crit çº§åˆ«çš„ä¿¡æ¯è®°å½•åˆ°è¿™ä¸ªæ–‡ä»¶
uucp,news.crit                                          /var/log/spooler

# Save boot messages also to boot.log
# å°†ç³»ç»Ÿå¯åŠ¨ç›¸å…³çš„ä¿¡æ¯è®°å½•åœ¨è¿™ä¸ªæ–‡ä»¶
local7.*                                                /var/log/boot.log


# ### begin forwarding rule ###
# è½¬å‘è§„åˆ™
# The statement between the begin ... end define a SINGLE forwarding
# rule. They belong together, do NOT split them. If you create multiple
# forwarding rules, duplicate the whole block!
# è¿œç¨‹æ—¥å¿—å¯ä»¥ä½¿ç”¨ TCP ä¿æŒå¯é 
# Remote Logging (we use TCP for reliable delivery)
#
# åˆ›å»ºä¸€ä¸ªç£ç›˜ä¸Šçš„é˜Ÿåˆ—ï¼Œå¦‚æœè¿œç¨‹çš„ä¸»æœºæ˜¯å…³é—­çš„çŠ¶æ€ï¼Œæ¶ˆæ¯ä¼šå…ˆå­˜å‚¨åœ¨ç£ç›˜ä¸­å¹¶ä¸”åœ¨è¿œç¨‹ä¸»æœºå¯åŠ¨æ—¶å‘é€è¿‡å»(TCP)
# An on-disk queue is created for this action. If the remote host is
# down, messages are spooled to disk and sent when it is up again.
# spool æ–‡ä»¶ å”¯ä¸€çš„å‰ç¼€
#$ActionQueueFileName fwdRule1 # unique name prefix for spool files
# 1gbçš„ç©ºé—´é™åˆ¶(å°½é‡ä½¿ç”¨)
#$ActionQueueMaxDiskSpace 1g   # 1gb space limit (use as much as possible)
# åœ¨å…³æœºçš„æ—¶å€™æŠŠä¿¡æ¯å­˜å‚¨åœ¨ç£ç›˜ä¸­
#$ActionQueueSaveOnShutdown on # save messages to disk on shutdown
# å¼‚æ­¥è¿è¡Œ
#$ActionQueueType LinkedList   # run asynchronously
# å¦‚æœè¿œç¨‹ä¸»æœºå®•æœºï¼Œå°†æ— é™æ¬¡é‡è¯•
#$ActionResumeRetryCount -1    # infinite retries if host is down
# remote host is: name/ip:port, e.g. 192.168.0.1:514, port optional
# è¿œç¨‹çš„ä¸»æœºå’Œç«¯å£,æ³¨æ„ï¼šè‹¥ç”¨UDPä¼ è¾“ï¼Œåˆ™å°†@@æ”¹ä¸º@å³å¯ã€‚
#*.* @@remote-host:514
# ### end of the forwarding rule ###</code></pre>
<p>/etc/rsyslog.conf çš„ä¿®æ”¹åªæ˜¯åœ¨ rsyslog å®ˆæŠ¤è¿›ç¨‹é‡æ–°å¯åŠ¨åæ‰ä¼šç”Ÿæ•ˆã€‚</p>
<p>è¯¥æ–‡ä»¶ç”±ä¸åŒç¨‹åºæˆ–è€…æ¶ˆæ¯åˆ†ç±»çš„å•ä¸ªæ¡ç›®ç»„æˆï¼Œæ¯ä¸ªå ä¸€è¡Œï¼Œå¯¹æ¯ç±»æ¶ˆæ¯æä¾›ä¸€ä¸ªé€‰æ‹©åŸŸå’Œä¸€ä¸ªåŠ¨ä½œåŸŸã€‚è¿™äº›åŸŸç”± tab éš”å¼€ï¼š</p>
<ul>
<li>é€‰æ‹©åŸŸæŒ‡æ˜æ¶ˆæ¯çš„ç±»å‹å’Œä¼˜å…ˆçº§</li>
<li>åŠ¨ä½œåŸŸæŒ‡æ˜ syslog æ¥æ”¶åˆ°ä¸€ä¸ªä¸é€‰æ‹©æ ‡å‡†ç›¸åŒ¹é…çš„æ¶ˆæ¯æ—¶æ‰€æ‰§è¡Œçš„åŠ¨ä½œã€‚</li>
</ul>
<table>
<thead>
<tr>
<th>æ¶ˆæ¯ç±»å‹</th>
<th>æ¶ˆæ¯æ¥æº</th>
</tr>
</thead>
<tbody><tr>
<td>kern</td>
<td>å†…æ ¸</td>
</tr>
<tr>
<td>user</td>
<td>ç”¨æˆ·ç¨‹åº</td>
</tr>
<tr>
<td>Damon</td>
<td>ç³»ç»Ÿå®ˆæŠ¤è¿›ç¨‹</td>
</tr>
<tr>
<td>Mail</td>
<td>ç”µå­é‚®ä»¶ç³»ç»Ÿ</td>
</tr>
<tr>
<td>Auth</td>
<td>ä¸å®‰å…¨æƒé™ç›¸å…³çš„å‘½ä»¤</td>
</tr>
<tr>
<td>Lpr</td>
<td>æ‰“å°æœº</td>
</tr>
<tr>
<td>News</td>
<td>æ–°é—»ç»„ä¿¡æ¯</td>
</tr>
<tr>
<td>Uucp</td>
<td>Uucpç¨‹åº</td>
</tr>
<tr>
<td>Cron</td>
<td>è®°å½•å½“å‰ç™»é™†çš„æ¯ä¸ªç”¨æˆ·ä¿¡æ¯</td>
</tr>
<tr>
<td>wtmp</td>
<td>ä¸€ä¸ªç”¨æˆ·æ¯æ¬¡ç™»é™†è¿›å…¥å’Œé€€å‡ºæ—¶é—´çš„æ°¸ä¹…è®°å½•</td>
</tr>
<tr>
<td>Authpriv</td>
<td>æˆæƒä¿¡æ¯</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>ä¼˜å…ˆçº§</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>emerg</td>
<td>æœ€é«˜çš„ç´§æ€¥ç¨‹åº¦çŠ¶æ€</td>
</tr>
<tr>
<td>alert</td>
<td>ç´§æ€¥çŠ¶æ€</td>
</tr>
<tr>
<td>Cirt</td>
<td>é‡è¦ä¿¡æ¯</td>
</tr>
<tr>
<td>Warning</td>
<td>è­¦å‘Š</td>
</tr>
<tr>
<td>err</td>
<td>ä¸´ç•ŒçŠ¶æ€</td>
</tr>
<tr>
<td>notice</td>
<td>å‡ºç°ä¸å¯»å¸¸çš„äº‹æƒ…</td>
</tr>
<tr>
<td>info</td>
<td>ä¸€èˆ¬æ€§æ¶ˆæ¯</td>
</tr>
<tr>
<td>Debug</td>
<td>è°ƒè¯•çº§ä¿¡æ¯</td>
</tr>
<tr>
<td>None</td>
<td>ä¸è®°å½•ä»»ä½•æ—¥å¿—ä¿¡æ¯</td>
</tr>
</tbody></table>
<p>rsyslog è¿˜æœ‰ä¸€ä¸ªå¯åŠ¨é€‰é¡¹ã€‚åœ¨ /etc/sysconfig/rsyslog é‡Œé¢ï¼Œä½†æ˜¯ä»rsysconfig v3å°±ä¸æ¨èä½¿ç”¨äº†ï¼Œå¦‚æœè¦ä½¿ç”¨ï¼Œå¯ä»¥åŠ ä¸Šé€‰é¡¹ -c2ã€‚</p>
<ul>
<li>-rï¼šå°†å½“å‰ä¸»æœºä½œä¸ºæ—¥å¿—æœåŠ¡å™¨ï¼Œç›‘å¬514ç«¯å£ä¸Šè¿›æ¥çš„UDPåŒ…ï¼Œæ¥æ”¶è¿œç¨‹ç³»ç»Ÿçš„ä¿¡æ¯ã€‚æ²¡æœ‰è¯¥é€‰é¡¹ï¼Œå°†ä¸ä¼šæ¥æ”¶æ¥è‡ªè¿œç¨‹ç³»ç»Ÿçš„ä¿¡æ¯ã€‚ </li>
<li>-m **ï¼šå°†é»˜è®¤çš„æ—¶é—´æˆ³æ ‡è®°ä¿¡æ¯å‡ºç°é¢‘ç‡å˜ä¸ºè‡ªå·±æŒ‡å®šçš„å€¼ã€egï¼š -m240ï¼Œè¡¨ç¤ºæ¯240åˆ†é’Ÿåœ¨æ—¥å¿—æ–‡ä»¶ä¸­å¢åŠ ä¸€è¡Œæ—¶é—´æˆ³æ¶ˆæ¯ã€‘</li>
<li>-xï¼šè¡¨ç¤ºä¸å¸Œæœ›è®©ä¸­å¤®æ—¥å¿—æœåŠ¡å™¨è§£æå…¶ä»–æœºå™¨çš„FQDNï¼ˆå®Œå…¨åˆæ ¼åŸŸåï¼ŒæŒ‡çš„æ˜¯ä¸»æœºå+å…¨è·¯å¾„ï¼‰</li>
</ul>
<p>ä¾‹å¦‚ï¼šSYSLOGD_OPTIONS=â€-r -x -m 240 -c 5â€</p>
<h2 id="äºŒã€syslog-åè®®"><a href="#äºŒã€syslog-åè®®" class="headerlink" title="äºŒã€syslog åè®®"></a>äºŒã€syslog åè®®</h2><p>Syslogåè®®[2]æ˜¯ä¸€ç§ç”¨æ¥åœ¨äº’è”ç½‘åè®®ï¼ˆTCP/IPï¼‰çš„ç½‘ç»œä¸­ä¼ é€’è®°å½•æ¡£è®¯æ¯çš„æ ‡å‡†ï¼Œå±äºä¸€ç§ä¸»ä»å¼åè®®ï¼šsyslogå‘é€ç«¯å‘é€ä¸€æ¡æ–‡å­—ä¿¡æ¯åˆ°syslogæ¥æ”¶ç«¯ã€‚</p>
<p>syslogæ¶ˆæ¯æ ¼å¼ï¼šsyslogæ¶ˆæ¯ä¸»è¦åˆ†ä¸º Priorityã€Headå’ŒMessageä¸‰ä¸ªéƒ¨åˆ†</p>
<h5 id="1-Priority"><a href="#1-Priority" class="headerlink" title="1. Priority"></a>1. Priority</h5><h5 id="å…¶ä¸­Priorityæ˜¯ç”±ä¸¤ä¸ªéƒ¨åˆ†ç»„æˆâ€”Facilityã€Level"><a href="#å…¶ä¸­Priorityæ˜¯ç”±ä¸¤ä¸ªéƒ¨åˆ†ç»„æˆâ€”Facilityã€Level" class="headerlink" title="å…¶ä¸­Priorityæ˜¯ç”±ä¸¤ä¸ªéƒ¨åˆ†ç»„æˆâ€”Facilityã€Level"></a>å…¶ä¸­Priorityæ˜¯ç”±ä¸¤ä¸ªéƒ¨åˆ†ç»„æˆâ€”Facilityã€Level</h5><ul>
<li>Facilityè¡¨æ˜è¯¥æ—¥å¿—æ¶ˆæ¯æ˜¯ç”±è°äº§ç”Ÿçš„ï¼Œæ˜¯å†…æ ¸kernï¼Ÿè¿˜æ˜¯ç”¨æˆ·userï¼Ÿåˆæˆ–æ˜¯é‚®ä»¶mailï¼Ÿä¸åŒçš„facilityå¯¹åº”ä¸åŒçš„ä»£å·ï¼Œå¯é€šè¿‡man 3 syslogæŸ¥çœ‹ï¼š</li>
</ul>
<pre><code>LOG_AUTHPRIV          security/authorization messages (private)
LOG_CRON              clock daemon (cron and at)
LOG_DAEMON            system daemons without separate facility value
LOG_FTP               ftp daemon
LOG_KERN              kernel messages (these canâ€™t be generated from user processes)
LOG_LOCAL0 through LOG_LOCAL7        reserved for local use
LOG_LPR               line printer subsystem
LOG_MAIL              mail subsystem
LOG_NEWS              USENET news subsystem
LOG_SYSLOG            messages generated internally by syslogd(8)
LOG_USER (default)    generic user-level messages
LOG_UUCP              UUCP subsystem</code></pre>
<ul>
<li>Levelè¡¨æ˜è¯¥æ—¥å¿—æ¶ˆæ¯çš„é‡è¦ç¨‹åº¦ï¼Œæ˜¯å¯¼è‡´ç³»ç»Ÿä¸èƒ½æ­£å¸¸ä½¿ç”¨äº†çš„ç´§æ€¥çº§åˆ«emergï¼Ÿè¿˜æ˜¯éœ€è¦è¢«åŠæ—¶å¤„ç†çš„è­¦å‘Šçº§åˆ«alertï¼Ÿåˆæˆ–ä»…ä»…æ˜¯éœ€è¦è°ƒè¯•çš„debugçº§åˆ«çš„ä¿¡æ¯ï¼ŸåŒæ ·å¯é€šè¿‡man 3 syslogæŸ¥çœ‹ï¼š</li>
</ul>
<pre><code>LOG_EMERG      system is unusable
LOG_ALERT      action must be taken immediately
LOG_CRIT       critical conditions
LOG_ERR        error conditions
LOG_WARNING    warning conditions
LOG_NOTICE     normal, but significant, condition
LOG_INFO       informational message
LOG_DEBUG      debug-level message</code></pre>
<p>Facilityå’Œlevelåˆ†åˆ«å®šä¹‰äº†ä¸åŒçš„ä»£å·ï¼Œå…¶å„è‡ªçš„å®å®šä¹‰å¯è§/usr/include/sys/syslog.hå¤´æ–‡ä»¶ï¼Œå®ƒä»¬ä¸¤è€…çš„ç»„åˆæ„æˆäº†Priorityå¤´çš„å€¼ã€‚è€Œè¯¥priorityçš„å€¼ä¹Ÿæ°æ°æ˜¯syslogå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°çš„å€¼ã€‚</p>
<h5 id="2ã€Head"><a href="#2ã€Head" class="headerlink" title="2ã€Head"></a>2ã€Head</h5><p>åŒ…æ‹¬ æ—¶é—´æˆ³ã€Hostç­‰ç­‰</p>
<h5 id="3ã€Message"><a href="#3ã€Message" class="headerlink" title="3ã€Message"></a>3ã€Message</h5><p>æ¶ˆæ¯å†…å®¹</p>
<h2 id="ä¸‰ã€ä½¿ç”¨syslogæ¥å£è°ƒç”¨syslogæœåŠ¡"><a href="#ä¸‰ã€ä½¿ç”¨syslogæ¥å£è°ƒç”¨syslogæœåŠ¡" class="headerlink" title="ä¸‰ã€ä½¿ç”¨syslogæ¥å£è°ƒç”¨syslogæœåŠ¡"></a>ä¸‰ã€ä½¿ç”¨syslogæ¥å£è°ƒç”¨syslogæœåŠ¡</h2><h4 id="1ã€syslog-API"><a href="#1ã€syslog-API" class="headerlink" title="1ã€syslog API"></a>1ã€syslog API</h4><p>linux C ä¸­æä¾›äº†ä¸€å¥—ç³»ç»Ÿæ—¥å¿—å†™å…¥çš„æ¥å£ï¼Œä¸»è¦æ¶‰åŠä¸‰ä¸ªå‡½æ•°openlogï¼Œsyslogï¼Œcloselogã€‚</p>
<ul>
<li><p>æ‰“å¼€ä¸€ä¸ªsyslogè¿æ¥</p>
<pre><code class="c++">#include &lt;syslog.h&gt;
void openlog(const char *ident, int option, int facility);</code></pre>
<p>å‚æ•°ï¼š</p>
<ul>
<li><p>ident æŒ‡å®šçš„å­—ç¬¦ä¸²ä¼šæ”¾å…¥åˆ°ç›¸åº”çš„æ¶ˆæ¯æ—¥å¿—ä¸­</p>
</li>
<li><p>optionæœ‰å¦‚ä¸‹é€‰é¡¹</p>
</li>
</ul>
<pre><code class="shell">LOG_CONS              Write directly to system console if there is an error while sending to system logger.
LOG_NDELAY            Open the connection immediately
LOG_NOWAIT            Donâ€™t  wait for child processes that may have been created while logging the message.
LOG_ODELAY            The converse of LOG_NDELAY; opening of the connection is delayed until syslog() is called.
LOG_PERROR            (Not in POSIX.1-2001.)  Print to stderr as well.
LOG_PID               Include PID with each message.æ‰“å°çš„æ¯ä¸€æ¡æ—¥å¿—ä¿¡æ¯åŒ…å«å½“å‰è¿›ç¨‹çš„PID</code></pre>
<ul>
<li>facility ä¸Šé¢ä»‹ç»äº†ï¼Œä¸‹é¢æ˜¯å¸¸ç”¨é€‰é¡¹</li>
</ul>
<pre><code>LOG_USERï¼šæ‰“å°çš„æ¯ä¸€æ¡æ—¥å¿—ä¿¡æ¯åŒ…å«å½“å‰ç”¨æˆ·çš„ç­‰çº§ä¿¡æ¯</code></pre>
</li>
<li><p>äº§ç”Ÿä¸€æ¡æ—¥å¿—æ¶ˆæ¯ä»¥ç‰¹å®šçš„è§„åˆ™åˆ†å‘å‡ºå»</p>
<pre><code>#include &lt;syslog.h&gt;
void syslog(int priority, const char *format, ...);</code></pre>
<p>å‚æ•°:</p>
<ul>
<li>priority ä¼˜å…ˆçº§ï¼Œç”±facilityå’Œlevelçš„æˆ–è¿ç®—ç»„æˆï¼›</li>
<li>format æ ¼å¼åŒ–è¾“å‡ºï¼Œç±»ä¼¼äºprintfå‡½æ•°ä¸­çš„formatå‚æ•°ã€‚</li>
</ul>
</li>
<li><p>å…³é—­ç”¨æ¥å†™æ—¥å¿—è®°å½•çš„æ–‡ä»¶æè¿°ç¬¦</p>
<pre><code>#include &lt;syslog.h&gt;
void closelog(void);</code></pre>
</li>
</ul>
<h4 id="2ã€ä¸€ä¸ªç®€å•çš„syslogä¾‹å­"><a href="#2ã€ä¸€ä¸ªç®€å•çš„syslogä¾‹å­" class="headerlink" title="2ã€ä¸€ä¸ªç®€å•çš„syslogä¾‹å­"></a>2ã€ä¸€ä¸ªç®€å•çš„syslogä¾‹å­</h4><pre><code class="c++">#include &lt;stdio.h&gt;
#include &lt;syslog.h&gt;
#include &lt;stdlib.h&gt;
int main(int argc,char* argv[])
&#123;
    openlog(argv[0],LOG_CONS | LOG_PID, LOG_USER);
    int count = 0;
    while(1)
    &#123;
        syslog(LOG_INFO, &quot;%d, log info test ...&quot;, count);
        count++;
          sleep(1);
    &#125;
    closelog();
    return 0;
&#125;</code></pre>
<p>åœ¨ rsyslog é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä¸€è¡Œå†…å®¹å¦‚ä¸‹</p>
<pre><code>user.*            /var/log/user_message.log</code></pre>
<p>é‡å¯ rsyslog æœåŠ¡ systemctl restart rsyslog</p>
<p>æ‰§è¡Œè¿™ä¸ªsyslog ä¾‹å­ã€‚</p>
<p>cat user_message.log å°±å¯ä»¥çœ‹åˆ°å‘é€çš„æ¶ˆæ¯å†…å®¹</p>
<h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><p>æ‰©å±•ï¼šä¹Ÿå¯ä»¥å°†è¿™å°æœºå™¨ä¸Šsyslogæ—¥å¿—å‘é€åˆ°å¦ä¸€å°æœºå™¨çš„syslogè¿›ç¨‹å¹¶å­˜å‚¨èµ·æ¥ï¼Œåªéœ€è¦é…ç½®ä¸€ä¸‹å³å¯</p>
<p>æ³¨æ„ï¼šé‡ç‚¹æ˜¯å­¦ä¹ syslogçš„é…ç½®æ–‡ä»¶ï¼Œææ¸…æ¥šç³»ç»Ÿæ—¥å¿—ï¼Œä¾¿äºæˆ‘ä»¬æŸ¥æ‰¾ç³»ç»Ÿé—®é¢˜ã€‚</p>
<p>Linuxä¸‹çš„syslogï¼Œå®ƒå‡ºç°çš„ç›®çš„å¹¶ä¸æ˜¯ä¸ºäº†æä¾›ç”¨æˆ·æ¯ä¸ªè¿›ç¨‹çš„æ—¥å¿—è¾“å‡ºï¼Œsyslogåªæ˜¯ç”¨æ¥ä½œä¸ºå¯¹äºæœåŠ¡ç®¡ç†çš„æ•´å¥—æœºåˆ¶ï¼Œå®ƒé’ˆå¯¹çš„æ˜¯ä¸€ç±»æœåŠ¡ï¼Œç”¨æ¥åšæ—¥å¿—æœåŠ¡å™¨ï¼Œå®ç°å¯¹æ•´ä¸ªç³»ç»Ÿç½‘ç»œä¸­æ—¥å¿—çš„ç»´æŠ¤ï¼ˆå¯¹æ—¥å¿—çš„ç»´æŠ¤ï¼Œå®é™…ä¸Šå°±æ˜¯å¯¹æ•´ä¸ªè®¡ç®—æœºç¾¤çš„ç»´æŠ¤ï¼‰ã€‚åŒæ—¶ï¼ŒçœŸæ­£çš„å·¥ç¨‹ä¸­ï¼Œå¹¶ä¸ä¼šä½¿ç”¨syslogä½œä¸ºå…¨å¥—çš„æ—¥å¿—ç®¡ç†å·¥å…·ï¼Œåœ¨Linuxä¸‹æœ‰æä¾›äº†å¾ˆå¤šå®Œæ•´çš„æ—¥å¿—åº“å·¥å…·ï¼Œæ¯”å¦‚log4cplusã€zlogç­‰ã€‚</p>

      
       
    </div>
</article>


<p>
    <a  class="dashang" onclick="dashangToggle()">ğŸ’°</a>
</p>




    <div id="comments"></div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">

<script type="text/javascript">
    $.getScript('/js/gitalk.js', function () {
        var gitalk = new Gitalk({
            clientID: '0dad8455e8835477a625',
            clientSecret: 'e736f5ff204f7b5f20321e3c558be7b8001efef5',
            repo: 'noahyzhang.github.io',
            owner: 'noahyzhang',
            admin: ['noahyzhang'],
            id: decodeURI(location.pathname),
            distractionFreeMode: 'true',
            language: 'zh-CN',
            perPage: parseInt('10',10)
        })
        gitalk.render('comments')
    })
</script>




    




    </div>
    <div class="copyright">
        <p class="footer-entry">
    Â©2016-2020 noahyzhang
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="åˆ‡æ¢å…¨å± å¿«æ·é”® s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close"  onclick="dashangToggle()">Ã—</a>
    <div class="shang_tit">
        <p>Help us with donation</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.jpg" class="alipay" title="æ‰«ç æ”¯æŒ">
            <img src="/img/weixin.jpg" class="weixin" title="æ‰«ç æ”¯æŒ">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">alipay</label></span><span><label><input type="radio" name="pay" value="weixin">weixin</label></span>
    </div>
</div>


</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*æ¸²æŸ“å¯¹åº”çš„è¡¨æ ¼æ ·å¼*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*æ¸²æŸ“æ‰“èµæ ·å¼*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*é«˜äº®ä»£ç å—è¡Œå·*/
        
        $('pre code').each(function(){
            var lines = $(this).text().trim().split('\n').length, widther='';
            if (lines>99) {
                widther = 'widther'
            }
            var $numbering = $('<ul/>').addClass('pre-numbering ' + widther).attr("unselectable","on");
            $(this).addClass('has-numbering ' + widther)
                    .parent()
                    .append($numbering);
            for(var i=1;i<=lines;i++){
                $numbering.append($('<li/>').text(i));
            }
        });
        

        /*è®¿é—®æ•°é‡*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*ä»£ç é«˜äº®ï¼Œè¡Œå·å¯¹é½*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*æ‰“èµé¡µé¢éšè—ä¸å±•ç¤º*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--åŠ å…¥è¡Œå·çš„é«˜äº®ä»£ç å—æ ·å¼-->

<style>
    pre{
        position: relative;
        margin-bottom: 24px;
        border-radius: 10px;
        border: 1px solid #e2dede;
        background: #FFF;
        overflow: hidden;
    }
    code.has-numbering{
        margin-left: 30px;
    }
    code.has-numbering.widther{
        margin-left: 35px;
    }
    .pre-numbering{
        margin: 0;
        position: absolute;
        top: 0;
        left: 0;
        width: 20px;
        padding: 0.5em 3px 0.7em 5px;
        border-right: 1px solid #C3CCD0;
        text-align: right;
        color: #AAA;
        background-color: #fafafa;
    }
    .pre-numbering.widther {
        width: 35px;
    }
</style>

<!--è‡ªå®šä¹‰æ ·å¼è®¾ç½®-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*åˆ—è¡¨æ ·å¼*/
    

    /* èƒŒæ™¯å›¾æ ·å¼ */
    
    


    /*å¼•ç”¨å—æ ·å¼*/
    

    /*æ–‡ç« åˆ—è¡¨èƒŒæ™¯å›¾*/
    

    
</style>







<div id="musicMouseDrag" style="position:fixed; z-index: 9999; bottom: 0; right: 0;">
    <div id="musicDragArea" style="position: absolute; top: 0; left: 0; width: 100%;height: 10px;cursor: move; z-index: 10;"></div>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=1293886117&auto=1&height=66"></iframe>
<script>
    var $DOC = $(document)
    $('#musicMouseDrag').on ('mousedown', function (e) {
      // é˜»æ­¢æ–‡æœ¬é€‰ä¸­
      $DOC.bind ("selectstart", function () {
        return false;
      });
      $('#musicDragArea').css ('height', '100%');
      var $moveTarget = $('#musicMouseDrag');
      $moveTarget.css ('border', '1px dashed grey')
      var div_x = e.pageX - $moveTarget.offset ().left;
      var div_y = e.pageY - $moveTarget.offset ().top;
      $DOC.on ('mousemove', function (e) {
        var targetX = e.pageX - div_x;
        var targetY = e.pageY - div_y;
        targetX = targetX < 0 ? 0 : (targetX + $moveTarget.outerWidth () >= window.innerWidth) ? window.innerWidth - $moveTarget.outerWidth () : targetX;
        targetY = targetY < 0 ? 0 : (targetY + $moveTarget.outerHeight () >= window.innerHeight) ? window.innerHeight - $moveTarget.outerHeight () : targetY;
        $moveTarget.css ({'left': targetX + 'px', 'top': targetY + 'px', 'bottom': 'inherit', 'right': 'inherit'})
      }).on ('mouseup', function () {
        $DOC.unbind ("selectstart");
        $DOC.off ('mousemove')
        $DOC.off ('mouseup')
        $moveTarget.css ('border', 'none')
        $('#musicDragArea').css ('height', '10px');
      })
    })
</script>
</div>

</html>
